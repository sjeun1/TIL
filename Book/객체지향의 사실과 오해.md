



## 객체지향의 사실과 오해 책 리뷰

![image](https://user-images.githubusercontent.com/62210870/178514162-d64d9fc2-ed18-48d9-a6ef-64135438e1e8.png)



객체지향과 사실과 오해라는 책을 읽었다.
결론부터 얘기하자면 내가 느낀 이 책이 하고 싶었던 말은 책 부제목에서도 말해주듯이 객체지향에서 중요한 것은 3가지 개념인 협력, 역할, 책임이 중요 하다고 한다.
이 책에서 계속해서 강조하는 부분이다. 각 객체는 협력 내에 정해진 역할을 수행하고 역할은 관련된 책임의 집합이다. 
그리고 여러 객체가 역할을 수행하며 한 객체가 여러 역할을 수행할 수 있다. 객체는 시스템의 행위를 구현하려면 협력적 이여야 하며 외부의 도움을 무시하고 스스로 한다면 내부적인 복잡도가 심해진다. 
하지만 자율적 이여야한다. 
협력에는 참여하지만 스스로 결정과 판단을 내려야한다. 
책에서는 클래스의 구조와 메서드가 아닌 객체의 역할, 책임, 협력에 대해 많은 설명이 포함되어 있었다.

​

책의 초반에는 커피 주문 과정과 이상한 나라의 앨리스라는 동화책에 나오는 내용을 토대로 설명을 해준다.
주인공 앨리스가 물약을 먹는 행위를 함으로써 앨리스가 작아졌고, 그로 인해 작은 문을 통과할 수 있었던 과정에서부터 카드여왕을 만나서 재판하는 과정까지의 동화 내용을 객체지향의 특성과 연관지어서 쉽게 설명하였다.
간단하게 적자면 앨리스라는 객체의 변화에 대해 서술하는데 앨리스가 음료를 마시고, 음식을 먹는 행위를 하면서 그 앨리스의 행동에 따라서 키가 커지거나 작아지거나 하는 상태로 변화하게 된다.
그리고 앨리스가 매우 작은 문을 통과하기 위해서는 몸이 작아진 상태에서 통과해야하므로 큰 상태에서는 음료수를 마시고 난 이후에 키가 작아지면 통과를 해야한다는 것을 보고 행동 간의 순서가 중요하다는 것을 알 수 있다.
그리고 그 과정에서 음료를 마시면 상태가 변화는 것을 알 수 있는데 그 행동을 실행하기 전까지는 앨리스의 상태값을 알 수 없는데 이 것을 객체지향 특성인 캡슐화이다. (= 상태 외부노출 X, 외부노출은 행동만)
복잡도를 줄이기 위해서는 추상화를 해야한다. 
추상화를 하려면 공통인 부분끼리 묶고, 불필요한 부분(세부적인) 을 제거해야 하는데 이를 앨리스의 재판과정에서 설명이 포함하고 있다. 
(이후 내용은 책으로,,책을 한번에 안읽고 끊어서 읽다보니 나중에 글 쓸때 정리하려고 키워드, 문장에 대해 갤탭 메모에 몇장을 편지처럼 글을 기록 해놨는데 이거 다 쓰다보면 너무 길어질거같다,,ㅎ)

​

책에서 말하는 좋은 객체는 구현을 모른 채 인터페이스만 알면 작용 할 수 있는 객체이고, 올바른 객체를 설계하기 위해서는 협력을 설계해야한다. 객체들이 주고 받는 요청, 응답의 흐름을 결정 한 후 책임을 할당하고, 책임에 필요한 데이터들을 생각한다. 그 후 클래스 구현 방법을 결정한다. 객체들에게 책임을 부여하는 과정을 합리적으로 수행했는지, 어떤 기준으로 어떤 객체 들을 분류 할 지에 따라 설계의 품질이 결정된다고 한다.
 좋은 객체 설계 방법은 도메인에 필요한 객체정리 후 필요한 메시지를 추가한다. 그리고 메시지를 수신할 객체를 선택한다. 객체들이 수신하는 메시지를 바탕으로 객체들의 인터페이스 구성하고, 객체들의 메소드를 구현한다.
초보들이 많이 하는 실수가 데이터, 클래스를 중심으로 앱을 설계한다는 것이라고 한다. 협력이라는 문맥을 고려하지 않고 각 객체를 독립적으로 생각하여 설계를 하는 경우는 좋지 않다. (또 한번 앨리스로 예를 들면 왕 인스턴스 설계 시 객체만보면 왕 = 근엄, 왕관, 멋진 수염으로 설계. 그러나 앨리스 왕은 겉모습이 아닌 판사로서의 왕의 모습만 존재. 판결하는 책임, 판사로서의 역할. ) 협력이란 문맥을 떼어내고 설계하면 오류를 범할 수 있다.
객체의 인터페이스에 대해서도 구현은 분리되어야하고 명확히 구분해야하며 , 인터페이스 노출 금지, 구체적인 인터페이스보다 추상적인 인터페이스가 좋다고 한다. 설계기법으론 책임주도 개발, 테스트 주도 개발, 디자인 패턴 등에 대한 내용도 포함이 되어있다. 
( v 책임 주도 개발 - 시스템 책임 파악. 객체의 역할, 책임, 협력을 고안하기 위한 방법과 절차를 제시
v 디자인 패턴 - 책임 주도 설계의 결과 표현. 반복적인 문제 해결을 위한 템플릿 모음. 특정 문제에 대해 공통으로 사용가능하여 책에서 말한 책임, 역할, 협력 관계 확인
v 테스트 주도 개발 - 테스트를 작성하기 위해 객체의 메서드를 호출, 반환값을 검증하는 것은 객체가 수행해야 하는 책임에 관해 생각. DDD 단점 개선을 위해 나온것)

​

예전에 유투브에서 한 동영상을 본 적이 있다.
자석은 왜 서로 밀어내는가 라는 질문에 대한 답변을 한 물리학자가 설명을 하는 영상인데, 어떤 현상이 왜 일어나는가에 대한 답변을 어떻게 해야할지 상대방이 누구냐, 서로 납득하는 범주가 어떤 범주냐 에 따라 설명을 달리한다고 했다. 물리를 아는 전공자와 모르는 일반인과 어린아이와의 답변이 모두 다르게 설명한다고 한다. 
각 사람들이 참이라고 인정하는 범위(공감대or상식)에 벗어나면 당연하게 생각하는 것도 왜? 라는 질문이 나올 수 있다. 
이처럼 이 책도 약간 개발자의 범위에 맞춰서 엄청 쉽지도, 엄청 어렵지도 않게 설명해주는 것이 좋았다. 
실무에 대입하면서 읽었던 부분이 중간중간 있어서 시간이 좀 걸리긴했지만 객체지향에 대해서, 객체의 올바른 설계 방식을 알 수 있어서 좋았다. 
많은 경험을 쌓고 시간 지난 후 또 다른 시각에서 다시 읽어보고 싶다. 
