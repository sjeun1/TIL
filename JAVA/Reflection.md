

## Reflection




### Reflection 이란
구체적인 클래스 타입을 알지 못해도 그 클래스의 메소드, 타입, 변수들에 접근할 수 있도록 해주는 자바 API 이다.
Reflection 을 사용해 클래스를 읽고, 인스턴스를 만들고, 메소드를 실행하고, 필드의 값을 가져오고 변경하는 것이 가능하다.
(Class를 컴파일 단계 에 올리지 않고 런타임 때 클래스를 동적으로 로딩하기 위해서 사용)




### Reflection 사용 이유
리플렉션은 주로 디버깅, JUnit과 같은 테스트 프레임워크에서 런타임에 알 수 없는 객체의 동작 과정을 분석하기 위해 사용된다.
어떤 타입의 클래스, 변수, 메소드를 사용할 지 모르는 경우에 사용된다. (ex. spring 의 annotation 정보 읽기 등)
변수의 값을 조건에 따라 다르게 사용하는 경우
어플리케이션이 실행되고 나서 생성하는 클래스 등에 사용된다




### Reflection 장점
코드의 양도 줄임으로써 생산성을 늘릴 수 있다.
class, constructor, method, field 값을 재귀적으로 바꿀 수도 있다.




### Reflection 단점
컴파일 시점에 가능한 타입 확인이 불가능하다. (해당 경우 컴파일 시점을 알 수 있는 인터페이스나 슈퍼 클래스를 사용해야 함) 
재귀적인 호출은 일반 메서드 호출보다 실행속도가 많이 느리다. 컴파일 단계 에 올리지 않고 런타임 때 클래스를 동적으로 로딩하여 JVM 최적화할 수 없다. (성능 오버헤드 이슈) 
코드의 가독성이 좋지않다.



이러한 단점도 존재하기 때문에 리플렉션으로 객체를 이용하면 안된다고 한다.
리플렉션을 제한적으로 사용한다면 리플렉션의 장점을 활용할 수 있다.

-리플렉션 : 인스턴스 생성
-인터페이스, 슈퍼클래스 : 객체 참조, 메서드 호출이나 필드 이용




![image](https://user-images.githubusercontent.com/62210870/178747850-a3315cff-36b0-4c10-be11-6b489e07c078.png)





